#!/usr/bin/env ruby

require './lib/rocket_api/rocket_commands'
require './lib/rocket_api/constants'
require './lib/rocket_api/errors'

base_command = ARGV[0]
sub_command = ARGV[1]
project_name = ARGV[2]

case base_command
when RocketApi::INIT
  case sub_command
  when RocketApi::BASE
    #  TODO: implement me
  when RocketApi::GEM
    begin
      RocketApi::RocketCommands.init_gem_dir
      RocketApi::RocketCommands.init_gem_files project_name&.downcase
    rescue RocketApi::Error  => e
      puts "Init directory error: #{e.message}"
    end
  else
    puts RocketApi::WRONG_ANSWER
  end
else
  puts RocketApi::WRONG_ANSWER
end